<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="http://www.chartjs.org/dist/2.7.1/Chart.js"></script>
    <script src="http://www.chartjs.org/samples/latest/utils.js"></script>

    <link rel="stylesheet" href="../Estilo/dashboard.css">

    <title>Safe Lawn - Dashboard</title>
</head>

<body>
    <div class="dashboard-section">
        <div class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/Imagens/logo_imagem.png" alt="logo safe lawn" class="logo">

                <div class="perfil">
                    <img src="./Imagens/perfil-exemplo.png" alt="imagem de perfil" class="img-perfil">
                    <p class="nome-perfil">Nome Estádio</p>
                    <span class="desc-perfil">Desc Estádio</span>
                </div>
            </div>


            <ul class="options">
                <li class="list-item selecionado">Dashboard</li>
                <li class="list-item">Norte-Leste</li>
                <li class="list-item">Norte-Oeste</li>
                <li class="list-item">Sul-Leste</li>
                <li class="list-item">Sul-Oeste</li>
            </ul>

            <p class="list-item">Suporte</p>

        </div>
        <div class="dashboard-wrapper">
            <div class="container">
                <div class="grupo-card">
                    <div class="card card-sensores">
                        <h3>Sensores em campo</h3>
                        <h2 class="dados-card">
                            4
                        </h2>
                    </div>
                    <div class="card card-umidade">
                        <h3>Umidade do campo</h3>
                        <h2 class="dados-card">
                            20%
                        </h2>
                    </div>
                    <div class="card card-jogabilidade">
                        <h3>Jogabilidade</h3>
                        <h2 class="dados-card">
                            80%
                        </h2>
                    </div>

                </div>

                <section class="grafico">
                    <canvas id="dht11Umidade"></canvas>
                </section>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    /* -- dht11Umidade -- */
    const horarios = ['00:05','00:15','00:25','00:40','00:45','00:50','00:55','00:60','00:70','00:80','00:90']
    var contextoDht11Umidade = document.getElementById('dht11Umidade').getContext('2d');
    contextoDht11Umidade.canvas.width = 1000;
    contextoDht11Umidade.canvas.height = 400;
    var dht11Umidade = new Chart(
        contextoDht11Umidade,
        {
            type: 'line',
            data: {
                labels: horarios,
                datasets: [{
                    label: 'Norte-Leste',
                    type: 'line',
                    fill: false,
                    borderColor: ['#45b3e7'],
                    backgroundColor: ['#89cff0'],
                    data: [73, 45, 30, 48, 25, 30],
                    pointHoverBorderColor: '#89cff0',
                    pointHoverBackgroundColor: '#89cff0',
                },
                {
                    label: 'Norte-Oeste',
                    type: 'line',
                    fill: false,
                    borderColor: ['#0800E5'],
                    backgroundColor: ['#0800E5'],
                    data: [60, 35, 28, 40, 35, 31],
                    pointHoverBorderColor: '#0800E5',
                    pointHoverBackgroundColor: '#0800E5'
                },
                {
                    label: 'Sul-Leste',
                    type: 'line',
                    fill: false,
                    borderColor: ['#D1D10E'],
                    backgroundColor: ['#D1D10E'],
                    data: [50, 30, 50, 15, 30, 33],
                    pointHoverBorderColor: '#D1D10E',
                    pointHoverBackgroundColor: '#D1D10E'
                },
                {
                    label: 'Sul-Oeste',
                    type: 'line',
                    fill: false,
                    borderColor: ['#2E793D'],
                    backgroundColor: ['#2E793D'],
                    data: [65, 15, 25, 10, 15, 25],
                    pointHoverBorderColor: '#2E793D',
                    pointHoverBackgroundColor: '#2E793D'
                }],
            },
            options: {
                layout: {
                    padding: 10
                },
                scales: {
                    xAxes: [{
                        distribution: 'series',
                        scaleLabel: {
                            display: true,
                            labelString: 'Minutos da Partida'
                        },
                        ticks: {
                            beginAtZero: true,
                        }
                    }],
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Umidade'
                        },
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                animation: {
                    duration: 0
                }
            }
        }
    );

    setInterval(() => {
        obterDados(dht11Umidade, 'dht11/umidade');
    }, 1000);

</script>